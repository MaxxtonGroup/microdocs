{"info":{"description":"Maxxton Microservice main class for rate-service.\n\n Maxxton Group 2016","title":"rate-service","group":"default","version":"1.3.0","versions":["1.3.0"]},"paths":{"/api/v1/ratetypes/{rateTypeId}":{"get":{"controller":{"$ref":"#/components/RateTypeController"},"method":{"$ref":"#/components/RateTypeController/methods/getOneRateType(Long)"},"description":"Get a single ratetype by id","operationId":"getOneRateType","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"rateTypeId","in":"path"}],"responses":{"default":{"description":"ratetype object or no data found","schema":{"$ref":"#/definitions/com.maxxton.rate.domain.ratetype.RateType"}}}}},"/api/v1/rates2/merge":{"post":{"controller":{"$ref":"#/components/RateController"},"method":{"$ref":"#/components/RateController/methods/mergeRates(List)"},"description":"","operationId":"mergeRates","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"rate","in":"body","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.rate.domain.rate.MergeRateObject"}}}],"responses":{}}},"/api/v1/rates2/search2":{"get":{"controller":{"$ref":"#/components/RateController"},"method":{"$ref":"#/components/RateController/methods/getRates(Specifications,Pageable,RateFilter)"},"description":"Get rates","operationId":"getRates","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"page number","name":"page","in":"query","default":0},{"type":"integer","description":"items per page","name":"size","in":"query","default":20},{"type":"string","description":"sort option","name":"sort","in":"query","default":"asc"}],"responses":{"default":{"description":"rate data in pages or no data found","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.rate.domain.rate.RateOptionDuration"}}}}}},"/api/v1/rates/options":{"get":{"controller":{"$ref":"#/components/RateOptionController"},"method":{"$ref":"#/components/RateOptionController/methods/getAllRateOption(Pageable,RateFilter)"},"description":"Get rate options","operationId":"getAllRateOption","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"page number","name":"page","in":"query","default":0},{"type":"integer","description":"items per page","name":"size","in":"query","default":20},{"type":"string","description":"sort option","name":"sort","in":"query","default":"asc"}],"responses":{"default":{"description":"rate options data","schema":{"type":"object","properties":{"number":{"type":"number","default":1},"last":{"type":"boolean","default":false},"size":{"type":"number","default":20},"numberOfElements":{"type":"number","default":20},"totalPages":{"type":"number","default":20},"sort":{},"content":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.rate.domain.rateoptions.RateOption"}},"first":{"type":"boolean","default":true},"totalElements":{"type":"number","default":196}}}}}}},"/api/v1/ratetypes":{"get":{"controller":{"$ref":"#/components/RateTypeController"},"method":{"$ref":"#/components/RateTypeController/methods/getRateTypes(Long,Specifications,Pageable)"},"description":"Get Ratetypes","operationId":"getRateTypes","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","name":"resortId","in":"query"},{"type":"integer","description":"page number","name":"page","in":"query","default":0},{"type":"integer","description":"items per page","name":"size","in":"query","default":20},{"type":"string","description":"sort option","name":"sort","in":"query","default":"asc"}],"responses":{"default":{"description":"ratetype data in pages or no data found","schema":{"type":"object","properties":{"number":{"type":"number","default":1},"last":{"type":"boolean","default":false},"size":{"type":"number","default":20},"numberOfElements":{"type":"number","default":20},"totalPages":{"type":"number","default":20},"sort":{},"content":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.rate.domain.ratetype.RateType"}},"first":{"type":"boolean","default":true},"totalElements":{"type":"number","default":196}}}}}}},"/api/v1/rates2/{cashflowruleId}":{"get":{"controller":{"$ref":"#/components/RateController"},"method":{"$ref":"#/components/RateController/methods/getRate(Long)"},"description":"Get a single rate by id","operationId":"getRate","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"cashflowruleId","in":"path"}],"responses":{"default":{"description":"rate object or no data found","schema":{"$ref":"#/definitions/com.maxxton.rate.domain.cashflow.Cashflowrule"}}}}},"/api/v1/rates/options/{rateOptionId}":{"get":{"controller":{"$ref":"#/components/RateOptionController"},"method":{"$ref":"#/components/RateOptionController/methods/getOneRateType(Long)"},"description":"Get a single RateOption by id","operationId":"getOneRateType","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"rateOptionId","in":"path"}],"responses":{"default":{"description":"RateOption object or no data found","schema":{"$ref":"#/definitions/com.maxxton.rate.domain.rateoptions.RateOption"}}}}}},"definitions":{"com.maxxton.rate.domain.cashflow.CashflowruleRatetype":{"type":"object","description":"cashflowruleRatetype database Entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["CASHFLOWRULE_RATETYPE"]}},"properties":{"rateTypeId":{"type":"integer","mappings":{"relational":{"name":"rate_type_id","primary":true}}},"cashflowruleId":{"type":"integer","mappings":{"relational":{"name":"cashflowrule_id","primary":true}}}},"name":"CashflowruleRatetype"},"com.maxxton.rate.domain.rate.RateOptionDuration":{"type":"object","description":"RateOptionDuration class composite entity for list of rates as per available rate options.\n \n Maxxton Group 2016","properties":{"rateOptionDefId":{"type":"integer"},"cashflowrule":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.rate.domain.cashflow.Cashflowrule"}},"rateOptionId":{"type":"integer"}},"name":"RateOptionDuration"},"com.maxxton.rate.domain.ratetype.RateType":{"type":"object","description":"RateType database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RATE_TYPE"]}},"properties":{"concernId":{"type":"integer","mappings":{"relational":{"name":"CONCERN_ID"}}},"isDefault":{"type":"integer","mappings":{"relational":{"name":"IS_DEFAULT"}}},"i18nDefault":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.rate.domain.translation.I18nRatetype"}},"code":{"type":"string","mappings":{"relational":{"name":"CODE"}}},"rateTypeResort":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.rate.domain.ratetype.RateTypeResort"}},"name":{"type":"string"},"id":{"type":"integer","mappings":{"relational":{"name":"RATE_TYPE_ID","primary":true}}},"priority":{"type":"integer","mappings":{"relational":{"name":"PRIORITY"}}},"i18n":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.rate.domain.translation.I18nRatetype"}}},"name":"RateType"},"com.maxxton.rate.domain.rateoptions.RateOption":{"type":"object","description":"rateOption database entity\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["RATE_OPTION"]}},"properties":{"rateOptionDef":{"$ref":"#/definitions/com.maxxton.rate.domain.rateoptions.RateOptionDef"},"minDurationTo":{"type":"integer","mappings":{"relational":{"name":"min_duration_to"}}},"rateOptionDefId":{"type":"integer","mappings":{"relational":{"name":"rate_option_def_id"}}},"numberOfNights":{"type":"integer","mappings":{"relational":{"name":"number_of_nights"}}},"minDurationFrom":{"type":"integer","mappings":{"relational":{"name":"min_duration_from"}}},"ratetypes":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.rate.domain.ratetype.RateType"}},"rateOptionId":{"type":"integer","mappings":{"relational":{"name":"rate_option_id","primary":true}}}},"name":"RateOption"},"com.maxxton.rate.domain.filter.RateFilter":{"type":"object","description":"If we want to filter rates on some fields that do not belong in Cashflowrule entity, they can be added here.\n\n Maxxton group 2016","properties":{"rateTypeId":{"type":"integer"},"bookDateFrom":{"type":"date"},"rateTypeIds":{"type":"array","items":{"type":"integer"}},"bookDateTo":{"type":"date"}},"name":"RateFilter"},"com.maxxton.rate.domain.rateoptions.RateOptionDef":{"type":"object","description":"RateOptionDef database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RATE_OPTION_DEF"]}},"properties":{"rateOptionDefId":{"type":"integer","mappings":{"relational":{"name":"rate_option_def_id","primary":true}}},"type":{"type":"string"}},"name":"RateOptionDef"},"com.maxxton.rate.domain.cashflow.Cashflowrule":{"type":"object","description":"Cashflowrule database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["CASHFLOWRULE"]}},"properties":{"ratetype":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.rate.domain.ratetype.RateType"}},"bookdateTo":{"type":"date","mappings":{"relational":{"name":"bookdate_to"}}},"remark":{"type":"string"},"usageUnitFrom":{"type":"integer","mappings":{"relational":{"name":"usage_unit_from"}}},"usageUnitTo":{"type":"integer","mappings":{"relational":{"name":"usage_unit_to"}}},"priority":{"type":"integer"},"quantifier":{"type":"string"},"cashflowruleId":{"type":"integer","mappings":{"relational":{"name":"CASHFLOWRULE_ID","primary":true}}},"arrivalDateTo":{"type":"date","mappings":{"relational":{"name":"usage_date_to"}}},"stay":{"type":"integer","mappings":{"relational":{"name":"usage_unit"}}},"cashflowmanagerId":{"type":"integer","mappings":{"relational":{"name":"cashflowmanager_id"}}},"bookdateFrom":{"type":"date","mappings":{"relational":{"name":"bookdate_from"}}},"repeatable":{"type":"integer"},"valueType":{"type":"string","mappings":{"relational":{"name":"value_type"}}},"arrivalDateFrom":{"type":"date","mappings":{"relational":{"name":"usage_date_from"}}},"maxUnit":{"type":"integer","mappings":{"relational":{"name":"max_unit"}}},"minUnit":{"type":"integer","mappings":{"relational":{"name":"min_unit"}}},"value":{"type":"number"},"usageDow":{"type":"integer","mappings":{"relational":{"name":"usage_dow"}}},"status":{"type":"integer"}},"name":"Cashflowrule"},"com.maxxton.rate.domain.rate.MergeRateObject":{"type":"object","description":"MergeRateObject class composite object for merging rates, rate per ratetype are stored in this.\n \n Maxxton Group 2016","properties":{"rateTypeId":{"type":"integer"},"cashflowrule":{"$ref":"#/definitions/com.maxxton.rate.domain.cashflow.Cashflowrule"},"rateOptionDefId":{"type":"integer"},"rateOptionId":{"type":"integer"}},"name":"MergeRateObject"},"com.maxxton.rate.domain.translation.I18nRatetype":{"type":"object","description":"I18nRatetype database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["I18N_RATETYPE"]}},"properties":{"rateTypeId":{"type":"integer","mappings":{"relational":{"name":"rate_type_id"}}},"languageId":{"type":"integer","mappings":{"relational":{"name":"language_id"}}},"name":{"type":"string"},"i18nRatetypeId":{"type":"integer","mappings":{"relational":{"name":"i18n_ratetype_id","primary":true}}}},"name":"I18nRatetype"},"com.maxxton.rate.domain.ratetype.RateTypeResort":{"type":"object","description":"RateTypeResort database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RATETYPE_RESORT"]}},"properties":{"rateTypeId":{"type":"integer","mappings":{"relational":{"name":"rate_type_id","primary":true}}},"resortId":{"type":"integer","mappings":{"relational":{"name":"resort_id","primary":true}}}},"name":"RateTypeResort"},"com.maxxton.rate.domain.rateoptions.RateOptionRatetype":{"type":"object","description":"RateOptionRatetype database entity\n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RATE_OPTION_RATETYPE"]}},"properties":{"rateTypeId":{"type":"integer","mappings":{"relational":{"name":"rate_type_id","primary":true}}},"rateOptionId":{"type":"integer","mappings":{"relational":{"name":"rate_option_id","primary":true}}}},"name":"RateOptionRatetype"}},"components":{"RateTypeRepository":{"name":"com.maxxton.rate.repository.RateTypeRepository","type":"repository","file":"com/maxxton/rate/repository/RateTypeRepository.java","description":"Ratetype repository\n\n Maxxton Group 2016","authors":["Saklecha (h.saklecha@maxxton.com)"],"annotations":{"Repository":{}}},"RateController":{"name":"com.maxxton.rate.controller.RateController","type":"controller","file":"com/maxxton/rate/controller/RateController.java","description":"Rate controller\n\n Maxxton group 2016","authors":["saklecha(h.saklecha@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/rates2\""}}},"methods":{"mergeRates(List)":{"name":"mergeRates","description":"","parameters":["List"],"lineNumber":74},"getRates(Specifications,Pageable,RateFilter)":{"name":"getRates","description":"Get rates","parameters":["Specifications","Pageable","RateFilter"],"lineNumber":66},"getRate(Long)":{"name":"getRate","description":"Get a single rate by id","parameters":["Long"],"lineNumber":49}}},"RateOptionService":{"name":"com.maxxton.rate.service.RateOptionService","type":"service","file":"com/maxxton/rate/service/RateOptionService.java","description":"Rate option service class\n\n Maxxton group 2016","authors":["Saklecha(h.saklecha@maxxton.com)"],"annotations":{"Service":{}},"methods":{"getAllRateOption(Pageable,RateFilter)":{"name":"getAllRateOption","description":"Get all rateoption as per filters passed","parameters":["Pageable","RateFilter"],"lineNumber":50},"getRateOption(Long)":{"name":"getRateOption","description":"Get single rateoption","parameters":["Long"],"lineNumber":39}}},"CashflowruleRatetypeRepository":{"name":"com.maxxton.rate.repository.CashflowruleRatetypeRepository","type":"repository","file":"com/maxxton/rate/repository/CashflowruleRatetypeRepository.java","description":"","authors":[],"annotations":{"Repository":{}}},"RateOptionController":{"name":"com.maxxton.rate.controller.RateOptionController","type":"controller","file":"com/maxxton/rate/controller/RateOptionController.java","description":"RateOption controller\n\n Maxxton group 2016","authors":["saklecha(h.saklecha@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/rates/options\""}}},"methods":{"getAllRateOption(Pageable,RateFilter)":{"name":"getAllRateOption","description":"Get rate options","parameters":["Pageable","RateFilter"],"lineNumber":54},"getOneRateType(Long)":{"name":"getOneRateType","description":"Get a single RateOption by id","parameters":["Long"],"lineNumber":40}}},"RateTypeController":{"name":"com.maxxton.rate.controller.RateTypeController","type":"controller","file":"com/maxxton/rate/controller/RateTypeController.java","description":"RateType controller\n\n Maxxton group 2016","authors":["saklecha(h.saklecha@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/ratetypes\""}}},"methods":{"getOneRateType(Long)":{"name":"getOneRateType","description":"Get a single ratetype by id","parameters":["Long"],"lineNumber":41},"getRateTypes(Long,Specifications,Pageable)":{"name":"getRateTypes","description":"Get Ratetypes","parameters":["Long","Specifications","Pageable"],"lineNumber":58}}},"RateTypeService":{"name":"com.maxxton.rate.service.RateTypeService","type":"service","file":"com/maxxton/rate/service/RateTypeService.java","description":"RateType service class\n\n Maxxton Group 2016","authors":["Saklecha (h.saklecha@maxxton.com)"],"annotations":{"Service":{}},"methods":{"getRateTypes(Specifications,Pageable,Long)":{"name":"getRateTypes","description":"Get a list of ratetypes, filtered or not.","parameters":["Specifications","Pageable","Long"],"lineNumber":52},"getRateType(Long)":{"name":"getRateType","description":"Get one ratetype by the id","parameters":["Long"],"lineNumber":35}}},"RateServiceApplication":{"name":"com.maxxton.rate.RateServiceApplication","type":"application","file":"com/maxxton/rate/RateServiceApplication.java","description":"Maxxton Microservice main class for rate-service.\n\n Maxxton Group 2016","authors":["Saklecha (h.saklecha@maxxton.com)"],"annotations":{"SpringBootApplication":{},"EnableMultiConcern":{},"EnableCaching":{},"EnableCircuitBreaker":{},"EnableFeignClients":{},"EnableDiscoveryClient":{},"EnableMaxxtonTools":{},"EnableResourceServer":{}},"methods":{"initApplication()":{"name":"initApplication","description":"Initializes application.\n <p>\n Spring profiles can be configured with a program arguments --spring.profiles.active=your-active-profile","lineNumber":59}}},"ConfigurationClient":{"name":"com.maxxton.rate.client.ConfigurationClient","type":"client","file":"com/maxxton/rate/client/ConfigurationClient.java","description":"","authors":[],"annotations":{"FeignClient":{"properties":{"value":"\"CONFIGURATION-SERVICE\""}}}},"CashflowruleRepository":{"name":"com.maxxton.rate.repository.CashflowruleRepository","type":"repository","file":"com/maxxton/rate/repository/CashflowruleRepository.java","description":"Ratetype repository\n\n Maxxton Group 2016","authors":["Saklecha (h.saklecha@maxxton.com)"],"annotations":{"Repository":{}}},"OptionConfiguration":{"name":"com.maxxton.rate.config.OptionConfiguration","type":"configuration","file":"com/maxxton/rate/config/OptionConfiguration.java","description":"","authors":[],"annotations":{"Configuration":{}},"methods":{"options()":{"name":"options","description":"","lineNumber":12}}},"RateOptionRepository":{"name":"com.maxxton.rate.repository.RateOptionRepository","type":"repository","file":"com/maxxton/rate/repository/RateOptionRepository.java","description":"RateOption repository\n\n Maxxton Group 2016","authors":["Saklecha (h.saklecha@maxxton.com)"],"annotations":{"Repository":{}},"methods":{"getAllByRateTypeId(Pageable,Long)":{"name":"getAllByRateTypeId","description":"","parameters":["Pageable","Long"],"lineNumber":29},"getAllByRateTypeIds(Pageable,List)":{"name":"getAllByRateTypeIds","description":"","parameters":["Pageable","List"],"lineNumber":35}}},"RateSecurityConfig":{"name":"com.maxxton.rate.config.RateSecurityConfig","type":"configuration","file":"com/maxxton/rate/config/RateSecurityConfig.java","description":"Configuration for securing the service and overrides the security config of the jpa lib.","authors":["Saklecha (h.saklecha@maxxton.com) Maxxton Group 2016"],"annotations":{"Order":{"properties":{"value":"-2"}},"Configuration":{"properties":{"value":"\"rateSecurityConfig\""}},"EnableGlobalMethodSecurity":{"properties":{"securedEnabled":"true"}}},"methods":{"configure(HttpSecurity)":{"name":"configure","description":"","parameters":["HttpSecurity"],"lineNumber":21}}},"RateService":{"name":"com.maxxton.rate.service.RateService","type":"service","file":"com/maxxton/rate/service/RateService.java","description":"Rate service class\n\n Maxxton group 2016","authors":["Saklecha(h.saklecha@maxxton.com)"],"annotations":{"Service":{}},"methods":{"saveCashflowruleList(List)":{"name":"saveCashflowruleList","description":"Sole task of this function is to save list of rate.","parameters":["List"],"lineNumber":287},"saveCashflowrule(Cashflowrule)":{"name":"saveCashflowrule","description":"Sole task of this function is to save rate.","parameters":["Cashflowrule"],"lineNumber":270},"getRateOptions(List)":{"name":"getRateOptions","description":"get List of RateOption based on rateTypeList","parameters":["List"],"lineNumber":315},"mergeRates(List)":{"name":"mergeRates","description":"Merge rates check if rate exists with same criteria but different value, if yes then update the current rate with bookingdatefromto, if no then save rate.","parameters":["List"],"lineNumber":169},"checkExistingCashflowrule(MergeRateObject)":{"name":"checkExistingCashflowrule","description":"Check if cashflowrules exist for criteria passed","parameters":["MergeRateObject"],"lineNumber":238},"getRates(Specifications,Pageable,RateFilter)":{"name":"getRates","description":"Get a list of rates, filtered as per rate options available.","parameters":["Specifications","Pageable","RateFilter"],"lineNumber":87},"getMergerRateMap(List)":{"name":"getMergerRateMap","description":"get Map of MergeRateOptionKey and RateOption based on rateTypeList which used to get the min/max unit and stay of the rateOption","parameters":["List"],"lineNumber":328},"getRateOptionDataListFromCashflowrule(List,Long)":{"name":"getRateOptionDataListFromCashflowrule","description":"Get a list of rates distributed under rateOption values configured in rateOption which are linked to rate .","parameters":["List","Long"],"lineNumber":99},"setSpecifications(Specifications,RateFilter)":{"name":"setSpecifications","description":"Set specifications based on filter","parameters":["Specifications","RateFilter"],"lineNumber":305},"getCashflowrules(Specifications,Pageable,RateFilter)":{"name":"getCashflowrules","description":"Get rates as pages filter as per passed specification, filter and pageable objects","parameters":["Specifications","Pageable","RateFilter"],"lineNumber":156},"fetchRatetypes()":{"name":"fetchRatetypes","description":"Get all ratetypes","lineNumber":224},"getRate(Long)":{"name":"getRate","description":"Get single rate","parameters":["Long"],"lineNumber":75}}}},"dependencies":{"configuration-service":{"description":"","type":"rest","component":{"$ref":"#/components/ConfigurationClient"}}}}