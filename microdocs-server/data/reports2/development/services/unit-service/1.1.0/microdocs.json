{"info":{"description":"Maxxton Microservice main class for unit-service.","title":"unit-service","group":"default","version":"1.1.0","versions":["1.1.0"]},"paths":{"/api/v1/units":{"get":{"controller":{"$ref":"#/components/UnitController"},"method":{"$ref":"#/components/UnitController/methods/getAllUnits(Long,Long,List,Specifications,Pageable)"},"description":"Gets all units","operationId":"getAllUnits","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","name":"client","in":"query"},{"type":"integer","name":"owner","in":"query"},{"type":"array","name":"units","in":"query"},{"type":"integer","description":"page number","name":"page","in":"query","default":0},{"type":"integer","description":"items per page","name":"size","in":"query","default":20},{"type":"string","description":"sort option","name":"sort","in":"query","default":"asc"}],"responses":{"default":{"description":"A filled page with unit or an empty page","schema":{"type":"object","properties":{"number":{"type":"number","default":1},"last":{"type":"boolean","default":false},"size":{"type":"number","default":20},"numberOfElements":{"type":"number","default":20},"totalPages":{"type":"number","default":20},"sort":{},"content":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.unit.domain.Unit"}},"first":{"type":"boolean","default":true},"totalElements":{"type":"number","default":196}}}}}}},"/api/v1/locks/{resourcemanagerId}/children":{"get":{"controller":{"$ref":"#/components/ResourceLockController"},"method":{"$ref":"#/components/ResourceLockController/methods/getChildResourceLocks(Long,Specifications,Pageable)"},"description":"Gets all child resource locks (as declared in resourcemanager_and_parents table) for a given resourcemanager_id.","operationId":"getChildResourceLocks","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"resourcemanagerId","in":"path"},{"type":"integer","description":"page number","name":"page","in":"query","default":0},{"type":"integer","description":"items per page","name":"size","in":"query","default":20},{"type":"string","description":"sort option","name":"sort","in":"query","default":"asc"}],"responses":{"default":{"description":"a page of resourcelocks","schema":{"type":"object","properties":{"number":{"type":"number","default":1},"last":{"type":"boolean","default":false},"size":{"type":"number","default":20},"numberOfElements":{"type":"number","default":20},"totalPages":{"type":"number","default":20},"sort":{},"content":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.unit.domain.ResourceLock"}},"first":{"type":"boolean","default":true},"totalElements":{"type":"number","default":196}}}}}}},"/api/v1/units/{unitId}":{"get":{"controller":{"$ref":"#/components/UnitController"},"method":{"$ref":"#/components/UnitController/methods/getUnitById(Long,Specifications)"},"description":"Gets a single unit by it's id","operationId":"getUnitById","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"unitId","in":"path"}],"responses":{"default":{"description":"a single unit or null","schema":{"$ref":"#/definitions/com.maxxton.unit.domain.Unit"}}}}},"/api/v1/units/{resourceId}/children":{"get":{"controller":{"$ref":"#/components/UnitController"},"method":{"$ref":"#/components/UnitController/methods/getChildUnitsByResourceId(Long,Specifications)"},"description":"Gets all child units(as declared in RESOURCE_AND_PARENTS table) for a given resource id.","operationId":"getChildUnitsByResourceId","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","required":true,"name":"resourceId","in":"path"}],"responses":{"default":{"description":"a list of units","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.unit.domain.Unit"}}}}}}},"definitions":{"com.maxxton.unit.domain.Ownership":{"type":"object","description":"Domain object for Ownership\n\n Maxxton Group 2015","mappings":{"relational":{"tables":["OWNERSHIP"]}},"properties":{"ownershipId":{"type":"integer","mappings":{"relational":{"name":"ownership_id","primary":true}}},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id"}}},"ownerId":{"type":"integer","mappings":{"relational":{"name":"owner_id"}}}},"name":"Ownership"},"com.maxxton.unit.domain.translation.I18nUnit":{"type":"object","description":"Translation domain object for 'objectbase' table\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["I18N_OBJECTBASE"]}},"properties":{"i18nObjectbaseId":{"type":"integer","mappings":{"relational":{"name":"i18n_objectbase_id","primary":true}}},"name":{"type":"string"},"languageId":{"type":"integer","mappings":{"relational":{"name":"language_id"}}},"description":{"type":"string"},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id"}}},"shortDescription":{"type":"string","mappings":{"relational":{"name":"short_description"}}},"description2":{"type":"string"},"noteForHkInspector":{"type":"string","mappings":{"relational":{"name":"note_for_hk_inspector"}}}},"name":"I18nUnit"},"com.maxxton.unit.domain.ResourceAndParents":{"type":"object","description":"Entity class for RESOURCE_AND_PARENTS table. Composite primary key is being used on columns resourceId, parentId and concernId. \n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RESOURCE_AND_PARENTS"]}},"properties":{"concernId":{"type":"integer","mappings":{"relational":{"name":"concern_id","primary":true}}},"resourceId":{"type":"integer","mappings":{"relational":{"name":"resource_id","primary":true}}},"levelDiff":{"type":"integer","mappings":{"relational":{"name":"level_diff"}}},"parentId":{"type":"integer","mappings":{"relational":{"name":"parent_id","primary":true}}}},"name":"ResourceAndParents"},"com.maxxton.unit.domain.UnitEmployee":{"type":"object","description":"Domain object for Link table 'employee_prefer_accommodation'\n\n Maxxton Group 2015","mappings":{"relational":{"tables":["EMPLOYEE_PREFER_ACCOMMODATION"]}},"properties":{"clientId":{"type":"integer","mappings":{"relational":{"name":"employee_id","primary":true}}},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id","primary":true}}}},"name":"UnitEmployee"},"com.maxxton.unit.domain.translation.I18nResourceBase":{"type":"object","description":"Translation domain object for 'resourcebase' table\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["I18N_RESOURCEBASE"]}},"properties":{"resourceId":{"type":"integer","mappings":{"relational":{"name":"resource_id"}}},"namePath":{"type":"string","mappings":{"relational":{"name":"name_path"}}},"i18nResourceBaseId":{"type":"integer","mappings":{"relational":{"name":"i18n_resourcebase_id","primary":true}}},"languageId":{"type":"integer","mappings":{"relational":{"name":"language_id"}}}},"name":"I18nResourceBase"},"com.maxxton.unit.domain.ResourcemanagerAndParents":{"type":"object","description":"Entity class for RESOURCEMANAGER_AND_PARENTS table. Composite primary key is being used on columns managerId and parentId. \n \n Maxxton Group 2016","mappings":{"relational":{"tables":["RESOURCEMANAGER_AND_PARENTS"]}},"properties":{"levelDiff":{"type":"integer","mappings":{"relational":{"name":"level_diff"}}},"managerId":{"type":"integer","mappings":{"relational":{"name":"manager_id","primary":true}}},"parentId":{"type":"integer","mappings":{"relational":{"name":"parent_id","primary":true}}}},"name":"ResourcemanagerAndParents"},"com.maxxton.unit.domain.ResourceLock":{"type":"object","description":"Entity for resourcelock table.\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["RESOURCELOCK"]}},"properties":{"detailDescription":{"type":"string","mappings":{"relational":{"name":"DETAIL_DESCRIPTION"}}},"resourcelockId":{"type":"integer","mappings":{"relational":{"name":"RESOURCELOCK_ID","primary":true}}},"resourcemanagerId":{"type":"integer","mappings":{"relational":{"name":"RESOURCEMANAGER_ID"}}},"blockDate":{"type":"date","mappings":{"relational":{"name":"BLOCK_DATE"}}},"clientId":{"type":"integer","mappings":{"relational":{"name":"EMPLOYEE_ID"}}},"reasonId":{"type":"integer","mappings":{"relational":{"name":"REASON_ID"}}},"endDate":{"type":"date","mappings":{"relational":{"name":"END_DATE"}}},"created":{"type":"date","mappings":{"relational":{"name":"CREATED"}}},"accoCreatedLock":{"type":"integer","mappings":{"relational":{"name":"ACCO_CREATED_LOCK"}}},"type":{"type":"string","mappings":{"relational":{"name":"TYPE"}}},"startDate":{"type":"date","mappings":{"relational":{"name":"START_DATE"}}},"resourcemanagerAndParents":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.ResourcemanagerAndParents"}}},"name":"ResourceLock"},"com.maxxton.unit.domain.Unit":{"type":"object","description":"Unit domain class for 'objectbase' table\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["OBJECTBASE"]}},"properties":{"resourceId":{"type":"integer","mappings":{"relational":{"name":"asset_id"}}},"eventmanagerId":{"type":"integer","mappings":{"relational":{"name":"eventmanager_id"}}},"type":{"type":"string"},"capacitymanagerId":{"type":"integer","mappings":{"relational":{"name":"capacitymanager_id"}}},"nrOfBathrooms":{"type":"integer","mappings":{"relational":{"name":"nr_of_bathrooms"}}},"path":{"type":"string"},"unitEmployees":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.UnitEmployee"}},"excludeQuestionnaireStats":{"type":"boolean","mappings":{"relational":{"name":"exclude_questionnaire_stats"}}},"noteForHkInspector":{"type":"string"},"accommodationMemomgrId":{"type":"integer","mappings":{"relational":{"name":"accommodation_memomgr_id"}}},"choosableOnInternet":{"type":"boolean","mappings":{"relational":{"name":"choosable_on_internet"}}},"i18nDefault":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.translation.I18nUnit"}},"groupPriority":{"type":"integer","mappings":{"relational":{"name":"group_priority"}}},"rentableUnitId":{"type":"integer","mappings":{"relational":{"name":"rentable_object_id"}}},"ownerships":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.Ownership"}},"genericMemomanagerId":{"type":"integer","mappings":{"relational":{"name":"generic_memomanager_id"}}},"propertymanagerId":{"type":"integer","mappings":{"relational":{"name":"propertymanager_id"}}},"shortDescription":{"type":"string"},"supervisorId":{"type":"integer","mappings":{"relational":{"name":"supervisor_id"}}},"i18n":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.translation.I18nUnit"}},"ledgerId":{"type":"integer","mappings":{"relational":{"name":"ledger_id"}}},"resourcegroupId":{"type":"integer","mappings":{"relational":{"name":"resourcegroup_id"}}},"brandId":{"type":"integer","mappings":{"relational":{"name":"brand_id"}}},"name":{"type":"string"},"status":{"type":"integer"},"resourcemanagerId":{"type":"integer","mappings":{"relational":{"name":"resourcemanager_id"}}},"virtual":{"type":"boolean"},"code":{"type":"string"},"description":{"type":"string"},"roomCode":{"type":"string","mappings":{"relational":{"name":"room_code"}}},"description2":{"type":"string"},"vsi":{"type":"integer"},"previousPmsId":{"type":"integer","mappings":{"relational":{"name":"previous_pms_id"}}},"originId":{"type":"string","mappings":{"relational":{"name":"origin_id"}}},"costCenterId":{"type":"integer","mappings":{"relational":{"name":"cost_center_id"}}},"implicationmanagerId":{"type":"integer","mappings":{"relational":{"name":"implicationmanager_id"}}},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id","primary":true}}},"resourceAndParents":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.ResourceAndParents"}},"secondLedgerId":{"type":"integer","mappings":{"relational":{"name":"second_ledger_id"}}},"concernId":{"type":"integer","mappings":{"relational":{"name":"concern_id"}}},"namePath":{"type":"string"},"filemanagerId":{"type":"integer","mappings":{"relational":{"name":"filemanager_id"}}},"inventorymanagerId":{"type":"integer","mappings":{"relational":{"name":"inventorymanager_id"}}},"questionnaireStatsManagerId":{"type":"integer","mappings":{"relational":{"name":"questionnaire_stats_manager_id"}}},"i18nResource":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.translation.I18nResourceBase"}},"nrOfBedrooms":{"type":"integer","mappings":{"relational":{"name":"nr_of_bedrooms"}}},"dynamicmanagerId":{"type":"integer","mappings":{"relational":{"name":"dynamicmanager_id"}}},"i18nResourceDefault":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.unit.domain.translation.I18nResourceBase"}},"archivedFrom":{"type":"date","mappings":{"relational":{"name":"archived_from"}}},"accommodationAddressmgrId":{"type":"integer","mappings":{"relational":{"name":"accommodation_addressmgr_id"}}},"imagemanagerId":{"type":"integer","mappings":{"relational":{"name":"imagemanager_id"}}}},"name":"Unit"}},"components":{"UnitSecurityConfig":{"name":"com.maxxton.unit.config.UnitSecurityConfig","type":"configuration","file":"com/maxxton/unit/config/UnitSecurityConfig.java","description":"Configuration for securing the service and overrides the security config of the jpa lib.\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Order":{"properties":{"value":"-2"}},"Configuration":{"properties":{"value":"\"unitSecurityConfig\""}},"EnableGlobalMethodSecurity":{"properties":{"securedEnabled":"true"}}},"methods":{"configure(HttpSecurity)":{"name":"configure","description":"","parameters":["HttpSecurity"],"lineNumber":22}}},"ResourceLockRepository":{"name":"com.maxxton.unit.repository.ResourceLockRepository","type":"repository","file":"com/maxxton/unit/repository/ResourceLockRepository.java","description":"ResourceLock repository\n \n Maxxton Group 2016","authors":[null],"annotations":{"Repository":{}}},"UnitService":{"name":"com.maxxton.unit.service.UnitService","type":"service","file":"com/maxxton/unit/service/UnitService.java","description":"Unit service\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Service":{}},"methods":{"getChildUnitsByResourceId(Long,Specifications)":{"name":"getChildUnitsByResourceId","description":"Method to get child units of a giv en resouce id.","parameters":["Long","Specifications"],"lineNumber":89},"getAllUnits(Long,Long,List,Specifications,Pageable)":{"name":"getAllUnits","description":"Gets all the units","parameters":["Long","Long","List","Specifications","Pageable"],"lineNumber":65},"getUnitById(Long,Specifications)":{"name":"getUnitById","description":"Gets a single unit by it's id","parameters":["Long","Specifications"],"lineNumber":43}}},"ResourceLockService":{"name":"com.maxxton.unit.service.ResourceLockService","type":"service","file":"com/maxxton/unit/service/ResourceLockService.java","description":"Resource lock service\n \n Maxxton Group 2016","authors":[null],"annotations":{"Service":{}},"methods":{"getChildResourceLockByResourceId(Long,Specifications,Pageable)":{"name":"getChildResourceLockByResourceId","description":"Method to get child resource locks on given criteria.","parameters":["Long","Specifications","Pageable"],"lineNumber":37}}},"UnitRepository":{"name":"com.maxxton.unit.repository.UnitRepository","type":"repository","file":"com/maxxton/unit/repository/UnitRepository.java","description":"Unit repository\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Repository":{}}},"UnitServiceApplication":{"name":"com.maxxton.unit.UnitServiceApplication","type":"application","file":"com/maxxton/unit/UnitServiceApplication.java","description":"Maxxton Microservice main class for unit-service.","authors":["Sonke (r.sonke@maxxton.com) Maxxton Group 2016"],"annotations":{"SpringBootApplication":{},"EnableMultiConcern":{},"EnableCaching":{},"EnableCircuitBreaker":{},"EnableDiscoveryClient":{},"EnableMaxxtonTools":{},"EnableResourceServer":{}},"methods":{"initApplication()":{"name":"initApplication","description":"Initializes application. \n <p> Spring profiles can be configured with a program arguments --spring.profiles.active=your-active-profile","lineNumber":54}}},"ResourceLockController":{"name":"com.maxxton.unit.controller.ResourceLockController","type":"controller","file":"com/maxxton/unit/controller/ResourceLockController.java","description":"Controller class for resource lock endpoints.\n \n Maxxton Group 2016","authors":[null],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/locks\""}}},"methods":{"getChildResourceLocks(Long,Specifications,Pageable)":{"name":"getChildResourceLocks","description":"Gets all child resource locks (as declared in resourcemanager_and_parents table) for a given resourcemanager_id.","parameters":["Long","Specifications","Pageable"],"lineNumber":43}}},"UnitController":{"name":"com.maxxton.unit.controller.UnitController","type":"controller","file":"com/maxxton/unit/controller/UnitController.java","description":"Unit Controller\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/units\""}}},"methods":{"getChildUnitsByResourceId(Long,Specifications)":{"name":"getChildUnitsByResourceId","description":"Gets all child units(as declared in RESOURCE_AND_PARENTS table) for a given resource id.","parameters":["Long","Specifications"],"lineNumber":81},"getAllUnits(Long,Long,List,Specifications,Pageable)":{"name":"getAllUnits","description":"Gets all units","parameters":["Long","Long","List","Specifications","Pageable"],"lineNumber":50},"getUnitById(Long,Specifications)":{"name":"getUnitById","description":"Gets a single unit by it's id","parameters":["Long","Specifications"],"lineNumber":66}}}}}