{"info":{"description":"Maxxton Microservice main class for image-service.\n\n Maxxton Group 2015","title":"image-service","group":"default","version":"1.1.0","versions":["1.1.0"]},"paths":{"/api/v1/images/imagemanagerids/{imgManagerId}":{"get":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/getImageIds(Long)"},"description":"Get the ID's of all images that belong to the given image manager ID.","operationId":"getImageIds","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"The image manager ID of the desired images. should belong to the user's concern","required":true,"name":"imgManagerId","in":"path"}],"responses":{"default":{"description":"A list of image IDs, sorted by sequence_number","schema":{"type":"array","items":{"type":"integer"}}}}},"delete":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/deleteAllImages(Long)"},"description":"Removes all images for a given image manager. does not remove the image manager itself.","operationId":"deleteAllImages","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"The ID of the manager these images belong to","required":true,"name":"imgManagerId","in":"path"}],"responses":{}},"put":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/replaceImages(Long,ImageContainer)"},"description":"Removes all images that belong to the given image manager, and then adds all given images","operationId":"replaceImages","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"The ID of the manager these images belong to","required":true,"name":"imgManagerId","in":"path"},{"name":"images","in":"body","description":"      A lsit of ImageContainers","schema":{"$ref":"#/definitions/com.maxxton.image.domain.ImageContainer"}}],"responses":{"default":{"description":"A succes message or HTTP code 400 (bad request) if the given URI's arse incorrect","schema":{"$ref":"#/definitions/com.maxxton.image.domain.ImageContainer"}}}}},"/api/v1/images/imageids":{"get":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/getAllImageIds(Boolean)"},"description":"Get the ID's of all images which meets the requirements","operationId":"getAllImageIds","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"boolean","description":"filter the images on those that have an URL","name":"withurl","in":"query","default":"false"}],"responses":{"default":{"description":"A list with all image ids","schema":{"type":"array","items":{"type":"integer"}}}}}},"/api/v1/images":{"post":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/addImages(ImageContainer)"},"description":"Add images to database and link them to imagemanagerid if needed","operationId":"addImages","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"imageContainer","in":"body","description":"container of images and imagemanagerids to link them to","schema":{"$ref":"#/definitions/com.maxxton.image.domain.ImageContainer"}}],"responses":{"default":{"description":"list of imagemanager and images which are succesfully uploaded","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.image.domain.ImageContainer"}}}}},"get":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/getAllImages(Long)"},"description":"Get a list of image URLS (optionally filtered by imageManager Id)","operationId":"getAllImages","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"the id of the ImageManager filter","name":"imageManager","in":"query"}],"responses":{"default":{"description":"a list of ImageUrls","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.image.domain.ImageUrls"}}}}},"delete":{"controller":{"$ref":"#/components/ImageController"},"method":{"$ref":"#/components/ImageController/methods/deleteImageByFilter(ImageFilter)"},"description":"Removes all images which are in the filter object","operationId":"deleteImageByFilter","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"filter","in":"body","description":"filter your images on an ImageFilter","schema":{"$ref":"#/definitions/com.maxxton.image.domain.ImageFilter"}}],"responses":{}}}},"definitions":{"com.maxxton.image.domain.Image":{"type":"object","description":"Image database entity\n\n Maxxton Group 2015","mappings":{"relational":{"tables":["IMAGE"]}},"properties":{"fileName":{"type":"string","mappings":{"relational":{"name":"filename"}}},"imageId":{"type":"integer","mappings":{"relational":{"name":"image_id","primary":true}}},"imageData":{"type":"integer","mappings":{"relational":{"name":"image_data"}}},"endDate":{"type":"date","mappings":{"relational":{"name":"end_date"}}},"imageManagerImages":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.image.domain.ImageManagerImage"}},"imageGroupId":{"type":"integer","mappings":{"relational":{"name":"imagegroup_id"}}},"mimeType":{"type":"string","mappings":{"relational":{"name":"mime_type"}}},"imageType":{"type":"string","mappings":{"relational":{"name":"image_type"}}},"startDate":{"type":"date","mappings":{"relational":{"name":"start_date"}}},"url":{"type":"string"},"defaultImage":{"type":"boolean","mappings":{"relational":{"ignore":true}}}},"name":"Image"},"com.maxxton.image.domain.ImageUrls.ImageUrl":{"type":"object","description":"Image Url\n\n Holds information about a single image size\n\n Maxxton Group 2016","properties":{"width":{"type":"integer"},"url":{"type":"string"},"height":{"type":"integer"}},"name":"ImageUrl"},"com.maxxton.image.domain.ImageUrls":{"type":"object","description":"Image properties\n\n Holds multiple image sizes\n\n Maxxton Group 2016","properties":{"small":{"$ref":"#/definitions/com.maxxton.image.domain.ImageUrls.ImageUrl"},"normal":{"$ref":"#/definitions/com.maxxton.image.domain.ImageUrls.ImageUrl"},"imageId":{"type":"integer"},"original":{"$ref":"#/definitions/com.maxxton.image.domain.ImageUrls.ImageUrl"},"large":{"$ref":"#/definitions/com.maxxton.image.domain.ImageUrls.ImageUrl"}},"name":"ImageUrls"},"com.maxxton.image.domain.ImageFilter":{"type":"object","description":"Created by Vaes.C","properties":{"imageIds":{"type":"array","items":{"type":"integer"}}},"name":"ImageFilter"},"com.maxxton.image.domain.ImageManagerImage":{"type":"object","description":"Image Manager database entity\n\n Maxxton Group 2015","mappings":{"relational":{"tables":["IMAGEMANAGER_IMAGE"]}},"properties":{"sequenceNumber":{"type":"integer","mappings":{"relational":{"name":"sequence_num"}}},"image":{"mappings":{"json":{"ignore":true}},"$ref":"#/definitions/com.maxxton.image.domain.Image"},"imageId":{"type":"integer","mappings":{"relational":{"name":"image_id","primary":true}}},"imageManager":{"mappings":{"json":{"ignore":true}},"$ref":"#/definitions/com.maxxton.image.domain.ImageManager"},"imageManagerId":{"type":"integer","mappings":{"relational":{"name":"imagemanager_id","primary":true}}},"isUploaded":{"type":"boolean","mappings":{"relational":{"name":"is_uploaded"}}},"defaultImage":{"type":"boolean","mappings":{"relational":{"name":"default_image"}}}},"name":"ImageManagerImage"},"com.maxxton.image.domain.ImageContainer":{"type":"object","description":"Class for managing the ImageContainers list. spring's Valid annotation does not support collection-like objects when being called as part of an argument.\n\n Maxxton Group 2015","properties":{"images":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.image.domain.Image"}},"imageManagerIds":{"type":"array","items":{"type":"integer"}}},"name":"ImageContainer"},"com.maxxton.image.domain.ImageManager":{"type":"object","description":"Image manager database entity\n\n Maxxton Group 2015","mappings":{"relational":{"tables":["IMAGEMANAGER"]}},"properties":{"concernId":{"type":"integer","mappings":{"relational":{"name":"concern_id"}}},"imageManagerImages":{"type":"array","mappings":{"json":{"ignore":true}},"items":{"$ref":"#/definitions/com.maxxton.image.domain.ImageManagerImage"}},"obsolete":{"type":"boolean"},"imageManagerId":{"type":"integer","mappings":{"relational":{"name":"imagemanager_id","primary":true}}}},"name":"ImageManager"}},"components":{"ImageManagerRepository":{"name":"com.maxxton.image.repository.ImageManagerRepository","type":"repository","file":"com/maxxton/image/repository/ImageManagerRepository.java","description":"Image manager database repository\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)"],"annotations":{"Repository":{}},"methods":{"findByImageManagerId(Long)":{"name":"findByImageManagerId","description":"","parameters":["Long"],"lineNumber":21}}},"ImageUrlService":{"name":"com.maxxton.image.services.ImageUrlService","type":"service","file":"com/maxxton/image/services/ImageUrlService.java","description":"Image URLs Service\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Service":{}},"methods":{"determineImageUrl(Size,Image)":{"name":"determineImageUrl","description":"Determines a single image Url by size and image","parameters":["Size","Image"],"lineNumber":74},"getAllImages(Long)":{"name":"getAllImages","description":"Get all image URLs (optionally filtered by Image Manager id)","parameters":["Long"],"lineNumber":44}}},"ImageProperties":{"name":"com.maxxton.image.config.ImageProperties","type":"configuration","file":"com/maxxton/image/config/ImageProperties.java","description":"Image properties\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Configuration":{},"EnableConfigurationProperties":{},"ConfigurationProperties":{"properties":{"prefix":"\"maxxton\""}}},"methods":{"getImages()":{"name":"getImages","description":"","lineNumber":28},"getOrigin(Origin)":{"name":"getOrigin","description":"","parameters":["Origin"],"lineNumber":24},"setImages(Map)":{"name":"setImages","description":"","parameters":["Map"],"lineNumber":32}}},"ImageRepository":{"name":"com.maxxton.image.repository.ImageRepository","type":"repository","file":"com/maxxton/image/repository/ImageRepository.java","description":"Image database repository\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)"],"annotations":{"Repository":{}},"methods":{"deleteByImageType(String)":{"name":"deleteByImageType","description":"","parameters":["String"],"lineNumber":32},"findAll()":{"name":"findAll","description":"","lineNumber":36},"deleteByImageIdIn(List)":{"name":"deleteByImageIdIn","description":"","parameters":["List"],"lineNumber":40},"findAllByUrlIsNotNull()":{"name":"findAllByUrlIsNotNull","description":"","lineNumber":34},"deleteByImageId(Long)":{"name":"deleteByImageId","description":"","parameters":["Long"],"lineNumber":28}}},"ImageServiceApplication":{"name":"com.maxxton.image.ImageServiceApplication","type":"application","file":"com/maxxton/image/ImageServiceApplication.java","description":"Maxxton Microservice main class for image-service.\n\n Maxxton Group 2015","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"SpringBootApplication":{},"EnableMultiConcern":{},"EnableCaching":{},"EnableDiscoveryClient":{},"EnableMaxxtonTools":{},"EnableResourceServer":{}},"methods":{"initApplication()":{"name":"initApplication","description":"Initializes application.\n <p>Spring profiles can be configured with a program arguments --spring.profiles.active=your-active-profile","lineNumber":55}}},"ImageManagerImageRepository":{"name":"com.maxxton.image.repository.ImageManagerImageRepository","type":"repository","file":"com/maxxton/image/repository/ImageManagerImageRepository.java","description":"Image manager image database repository. use this instead of the DAOs\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)"],"annotations":{"Repository":{}},"methods":{"findImageImageIdByImageManagerImageManagerId(Long)":{"name":"findImageImageIdByImageManagerImageManagerId","description":"","parameters":["Long"],"lineNumber":24},"findByImageImageId(Long)":{"name":"findByImageImageId","description":"","parameters":["Long"],"lineNumber":26},"findImageManagerImageByImageManagerImageManagerId(Long)":{"name":"findImageManagerImageByImageManagerImageManagerId","description":"","parameters":["Long"],"lineNumber":28},"removeByImageIdAndImageManagerId(Long,Long)":{"name":"removeByImageIdAndImageManagerId","description":"","parameters":["Long","Long"],"lineNumber":31}}},"ImageManagerImageService":{"name":"com.maxxton.image.services.ImageManagerImageService","type":"service","file":"com/maxxton/image/services/ImageManagerImageService.java","description":"Image manager service\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)","(c.vaes@maxxton.com)"],"annotations":{"Service":{},"Transactional":{}},"methods":{"linkImageToImageManager(Long,Image)":{"name":"linkImageToImageManager","description":"Add record with link of image to imagemanagerid to imagemanagerimage","parameters":["Long","Image"],"lineNumber":86},"getImageIds(Long)":{"name":"getImageIds","description":"Get the IDs of all images that belong to a given imageManager","parameters":["Long"],"lineNumber":47},"removeAllImages(Long)":{"name":"removeAllImages","description":"Remove all images that are only attached to the given image manager, and detach the others.","parameters":["Long"],"lineNumber":59}}},"ImageService":{"name":"com.maxxton.image.services.ImageService","type":"service","file":"com/maxxton/image/services/ImageService.java","description":"Image service\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)"],"annotations":{"Service":{}},"methods":{"getAllImageIds(Boolean)":{"name":"getAllImageIds","description":"","parameters":["Boolean"],"lineNumber":30},"deleteAllImagesByFilter(ImageFilter)":{"name":"deleteAllImagesByFilter","description":"","parameters":["ImageFilter"],"lineNumber":37},"addImages(Long,List)":{"name":"addImages","description":"add the given images to the database","parameters":["Long","List"],"lineNumber":63}}},"ImageController":{"name":"com.maxxton.image.controller.ImageController","type":"controller","file":"com/maxxton/image/controller/ImageController.java","description":"Class responsible for the Images API\n\n Maxxton Group 2015","authors":["(l.molegraaf@maxxton.com)","(c.vaes@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/images\""}}},"methods":{"getAllImageIds(Boolean)":{"name":"getAllImageIds","description":"Get the ID's of all images which meets the requirements","parameters":["Boolean"],"lineNumber":92},"getAllImages(Long)":{"name":"getAllImages","description":"Get a list of image URLS (optionally filtered by imageManager Id)","parameters":["Long"],"lineNumber":104},"addImages(ImageContainer)":{"name":"addImages","description":"Add images to database and link them to imagemanagerid if needed","parameters":["ImageContainer"],"lineNumber":68},"deleteImageByFilter(ImageFilter)":{"name":"deleteImageByFilter","description":"Removes all images which are in the filter object","parameters":["ImageFilter"],"lineNumber":115},"getImageIds(Long)":{"name":"getImageIds","description":"Get the ID's of all images that belong to the given image manager ID.","parameters":["Long"],"lineNumber":55},"replaceImages(Long,ImageContainer)":{"name":"replaceImages","description":"Removes all images that belong to the given image manager, and then adds all given images","parameters":["Long","ImageContainer"],"lineNumber":141},"deleteAllImages(Long)":{"name":"deleteAllImages","description":"Removes all images for a given image manager. does not remove the image manager itself.","parameters":["Long"],"lineNumber":127}}}}}