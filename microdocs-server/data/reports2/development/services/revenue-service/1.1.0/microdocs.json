{"info":{"description":"Maxxton Microservice main class for revenue-service.","title":"revenue-service","group":"default","version":"1.1.0","versions":["1.1.0"]},"paths":{"/api/v1/revenues":{"get":{"controller":{"$ref":"#/components/RevenueController"},"method":{"$ref":"#/components/RevenueController/methods/getRevenueByOwner(Long,Integer,Integer)"},"description":"Returns the revenue for a specific owner","operationId":"getRevenueByOwner","consumes":["application/json"],"produces":["application/json"],"parameters":[{"type":"integer","description":"the id of the owner","required":true,"name":"owner","in":"query"},{"type":"integer","description":"   filter for the year","name":"year","in":"query"},{"type":"integer","description":"  filter for the month","name":"month","in":"query"}],"responses":{"default":{"description":"the revenue for a given owner or null","schema":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.revenue.domain.Revenue"}}}}}}},"definitions":{"com.maxxton.revenue.domain.Ownership":{"type":"object","description":"Ownership domain class\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["OWNERSHIP"]}},"properties":{"ownershipId":{"type":"integer","mappings":{"relational":{"name":"ownership_id","primary":true}}},"endDate":{"type":"date","mappings":{"relational":{"name":"end_date"}}},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id"}}},"ownerId":{"type":"integer","mappings":{"relational":{"name":"owner_id"}}},"startDate":{"type":"date","mappings":{"relational":{"name":"start_date"}}}},"name":"Ownership"},"com.maxxton.revenue.domain.ReservedResourceBase":{"type":"object","description":"ReservedResourceBase domain object\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["RESERVEDRESOURCEBASE"]}},"properties":{"reservedresourceId":{"type":"integer","mappings":{"relational":{"name":"reservedresource_id","primary":true}}},"reservationId":{"type":"integer","mappings":{"relational":{"name":"reservation_id"}}},"endDate":{"type":"date","mappings":{"relational":{"name":"end_date"}}},"ownerships":{"type":"array","items":{"$ref":"#/definitions/com.maxxton.revenue.domain.Ownership"}},"unitId":{"type":"integer","mappings":{"relational":{"name":"object_id"}}},"startDate":{"type":"date","mappings":{"relational":{"name":"start_date"}}},"status":{"type":"integer"}},"name":"ReservedResourceBase"},"com.maxxton.revenue.domain.HoldingReport":{"type":"object","description":"HoldingReport domain object\n\n Maxxton Group 2016","mappings":{"relational":{"tables":["HOLDING_REPORT"]}},"properties":{"reservedResourceBase":{"$ref":"#/definitions/com.maxxton.revenue.domain.ReservedResourceBase"},"holdingReportId":{"type":"integer","mappings":{"relational":{"name":"holding_report_id","primary":true}}},"reservedresourceId":{"type":"integer","mappings":{"relational":{"name":"reservedresource_id"}}},"turnoverTotal":{"type":"number","mappings":{"relational":{"name":"turnover_total"}}},"parentReservedresourceId":{"type":"integer","mappings":{"relational":{"name":"parent_reservedresource_id"}}}},"name":"HoldingReport"},"com.maxxton.revenue.domain.Revenue":{"type":"object","description":"Revenue domain object\n\n Maxxton Group 2016","properties":{"reservationEndDate":{"type":"date","mappings":{"json":{"ignore":true}}},"month":{"type":"integer"},"year":{"type":"integer"},"reservationStartDate":{"type":"date","mappings":{"json":{"ignore":true}}},"unitId":{"type":"integer"},"ownershipEndDate":{"type":"date","mappings":{"json":{"ignore":true}}},"totalTurnover":{"type":"number"},"isSplitRevenue":{"type":"boolean"},"ownershipStartDate":{"type":"date","mappings":{"json":{"ignore":true}}}},"name":"Revenue"}},"components":{"RevenueSecurityConfig":{"name":"com.maxxton.revenue.config.RevenueSecurityConfig","type":"configuration","file":"com/maxxton/revenue/config/RevenueSecurityConfig.java","description":"Configuration for securing the service and overrides the security config of the jpa lib.\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Order":{"properties":{"value":"-2"}},"Configuration":{"properties":{"value":"\"revenueSecurityConfig\""}},"EnableGlobalMethodSecurity":{"properties":{"securedEnabled":"true"}}},"methods":{"configure(HttpSecurity)":{"name":"configure","description":"","parameters":["HttpSecurity"],"lineNumber":23}}},"RevenueService":{"name":"com.maxxton.revenue.service.RevenueService","type":"service","file":"com/maxxton/revenue/service/RevenueService.java","description":"Revenue service\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Service":{}},"methods":{"getRevenueByOwner(Long,Integer,Integer)":{"name":"getRevenueByOwner","description":"Return the revenue for a specific owner","parameters":["Long","Integer","Integer"],"lineNumber":60},"getRevenueByUnit(Long,Integer,Integer)":{"name":"getRevenueByUnit","description":"Returns the revenue for a specific unit","parameters":["Long","Integer","Integer"],"lineNumber":34}}},"RevenueController":{"name":"com.maxxton.revenue.controller.RevenueController","type":"controller","file":"com/maxxton/revenue/controller/RevenueController.java","description":"Controller for the Revenue endpoints\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"RestController":{},"RequestMapping":{"properties":{"value":"\"/api/v1/revenues\""}}},"methods":{"getRevenueByOwner(Long,Integer,Integer)":{"name":"getRevenueByOwner","description":"Returns the revenue for a specific owner","parameters":["Long","Integer","Integer"],"lineNumber":54},"getRevenueByUnit(Long,Integer,Integer)":{"name":"getRevenueByUnit","description":"Returns the revenue for a specific unit","parameters":["Long","Integer","Integer"],"lineNumber":39}}},"RevenueServiceApplication":{"name":"com.maxxton.revenue.RevenueServiceApplication","type":"application","file":"com/maxxton/revenue/RevenueServiceApplication.java","description":"Maxxton Microservice main class for revenue-service.","authors":["Hermans (r.hermans@maxxton.com)\n Maxxton Group 2016"],"annotations":{"SpringBootApplication":{},"EnableMultiConcern":{},"EnableCircuitBreaker":{},"EnableDiscoveryClient":{},"EnableMaxxtonTools":{},"EnableResourceServer":{}},"methods":{"initApplication()":{"name":"initApplication","description":"Initializes application.\n <p>\n Spring profiles can be configured with a program arguments --spring.profiles.active=your-active-profile","lineNumber":59}}},"RevenueRepository":{"name":"com.maxxton.revenue.repository.RevenueRepository","type":"repository","file":"com/maxxton/revenue/repository/RevenueRepository.java","description":"Revenue repository (Managed by HoldingReport)\n\n Maxxton Group 2016","authors":["Hermans (r.hermans@maxxton.com)"],"annotations":{"Repository":{}},"methods":{"getRevenueByOwnerAndYear(Long,Integer)":{"name":"getRevenueByOwnerAndYear","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the owner to get it for multiple accommodation of a single owner.\n This also means that the ownership start and end date are taken into account\n The select is filtered by year (either the start or end date has to match)\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long","Integer"],"lineNumber":120},"getRevenueByOwnerAndYearAndMonth(Long,Integer,Integer)":{"name":"getRevenueByOwnerAndYearAndMonth","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the owner to get it for multiple accommodation of a single owner.\n This also means that the ownership start and end date are taken into account\n The select is filtered by year and month (either the start or end date has to match)\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long","Integer","Integer"],"lineNumber":144},"getRevenueByUnitAndYear(Long,Integer)":{"name":"getRevenueByUnitAndYear","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the unit to get it for a single accommodation.\n The select is filtered by year (either the start or end date has to match)\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long","Integer"],"lineNumber":57},"getRevenueByOwner(Long)":{"name":"getRevenueByOwner","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the owner to get it for multiple accommodation of a single owner.\n This also means that the ownership start and end date are taken into account\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long"],"lineNumber":97},"getRevenueByUnit(Long)":{"name":"getRevenueByUnit","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the unit to get it for a single accommodation.\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long"],"lineNumber":37},"getRevenueByUnitAndYearAndMonth(Long,Integer,Integer)":{"name":"getRevenueByUnitAndYearAndMonth","description":"This query joins the holding_report table with the reservedresourcebase table on the reservedresource_id and parent_reservedresource_id.\n The revenue is selected by the id of the unit to get it for a single accommodation.\n The select is filtered by year and month (either the start or end date has to match)\n The total turnover is summed and put into a Revenue object along with the objectId, reservation start and end date.","parameters":["Long","Integer","Integer"],"lineNumber":78}}}}}