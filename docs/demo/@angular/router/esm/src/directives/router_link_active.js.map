{"version":3,"file":"router_link_active.js","sourceRoot":"","sources":["../../../../../../modules/@angular/router/src/directives/router_link_active.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AfterContentInit, ContentChildren, Directive, ElementRef, Input, OnChanges, OnDestroy, QueryList, Renderer} from '@angular/core';\nimport {Subscription} from 'rxjs/Subscription';\n\nimport {NavigationEnd, Router} from '../router';\nimport {UrlTree, containsTree} from '../url_tree';\n\nimport {RouterLink, RouterLinkWithHref} from './router_link';\nexport class RouterLinkActive implements OnChanges, OnDestroy, AfterContentInit { links: QueryList<RouterLink>; linksWithHrefs: QueryList<RouterLinkWithHref>;\n\n  private classes: string[] = [];\n  private subscription: Subscription; private routerLinkActiveOptions: {exact: boolean} = {exact: false};\n\n  constructor(private router: Router, private element: ElementRef, private renderer: Renderer) {\n    this.subscription = router.events.subscribe(s => {\n      if (s instanceof NavigationEnd) {\n        this.update();\n      }\n    });\n  }\n\n  ngAfterContentInit(): void {\n    this.links.changes.subscribe(s => this.update());\n    this.linksWithHrefs.changes.subscribe(s => this.update());\n    this.update();\n  }\n  set routerLinkActive(data: string[]|string) {\n    if (Array.isArray(data)) {\n      this.classes = <any>data;\n    } else {\n      this.classes = data.split(' ');\n    }\n  }\n\n  ngOnChanges(changes: {}): any { this.update(); }\n  ngOnDestroy(): any { this.subscription.unsubscribe(); }\n\n  private update(): void {\n    if (!this.links || !this.linksWithHrefs) return;\n\n    const currentUrlTree = this.router.parseUrl(this.router.url);\n    const isActiveLinks = this.reduceList(currentUrlTree, this.links);\n    const isActiveLinksWithHrefs = this.reduceList(currentUrlTree, this.linksWithHrefs);\n    this.classes.forEach(\n        c => this.renderer.setElementClass(\n            this.element.nativeElement, c, isActiveLinks || isActiveLinksWithHrefs));\n  }\n\n  private reduceList(currentUrlTree: UrlTree, q: QueryList<any>): boolean {\n    return q.reduce(\n        (res: boolean, link: any) =>\n            res || containsTree(currentUrlTree, link.urlTree, this.routerLinkActiveOptions.exact),\n        false);\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{selector: '[routerLinkActive]'}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: Router, },\n{type: ElementRef, },\n{type: Renderer, },\n];\n/** @nocollapse */\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'links': [{ type: ContentChildren, args: [RouterLink, ] },],\n'linksWithHrefs': [{ type: ContentChildren, args: [RouterLinkWithHref, ] },],\n'routerLinkActiveOptions': [{ type: Input },],\n'routerLinkActive': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}